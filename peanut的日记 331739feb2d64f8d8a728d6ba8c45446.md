# peanut的日记

# C语言基础

## 第一部分：基础

### 计算机基本知识

### 进制转换

### 十进制

### 十进制转二进制（八进制和十六进制同理把2换成8和16就行）

![Untitled](peanut%E7%9A%84%E6%97%A5%E8%AE%B0%20331739feb2d64f8d8a728d6ba8c45446/Untitled.png)

![Untitled](peanut%E7%9A%84%E6%97%A5%E8%AE%B0%20331739feb2d64f8d8a728d6ba8c45446/Untitled%201.png)

### 二进制转十进制（八进制和十六进制同理把2换成8和16就行）

用二进制数的权值计算方式。二进制数的每一位上的权值都是2的n次方，其中n是该位的位置编号，从右往左从0开始递增。例如，对于二进制数1101，最右边的1的位置编号是0，所以它的权值是2的0次方，也就是1；接下来是第二位上的0，它的位置编号是1，所以它的权值是2的1次方，也就是2；再往左是第三位上的1，它的位置编号是2，所以它的权值是2的2次方，也就是4；最左边的一位是1，它的位置编号是3，所以它的权值是2的3次方，也就是8。

接下来，我们将每一位的权值与它所代表的数字相乘，然后将它们相加即可得到十进制数。在这个例子中，计算过程如下：

1 * 2^0 + 0 * 2^1 + 1 * 2^2 + 1 * 2^3 = 1 + 0 + 4 + 8 = 13

因此，二进制数1101转换为十进制数是13。

### 小数部分转二进制（八进制和十六进制同理）

用小数乘以目标数值的基数，第一次相乘结果的整数部分为目的数的最高位，
将其小数部分再乘基数依次记下整数部分，反复进行下去，直到小数部分
为“0”，或满足要求的精度为止。

![Untitled](peanut%E7%9A%84%E6%97%A5%E8%AE%B0%20331739feb2d64f8d8a728d6ba8c45446/Untitled%202.png)

0.65 = 0.10100（只保留了后5位小数）

### 小数部分的二进制转成十进制（八进制和十六进制同理）

将二进制小数部分转换为十进制，需要将每一位的值乘以2的负次幂，然后将所有结果相加即可。例如，二进制小数部分0.1011转换为十进制的计算过程如下：

0.1011 = 1*2^(-1) + 0*2^(-2) + 1*2^(-3) + 1*2^(-4) = 0.5 + 0 + 0.125 + 0.0625 = 0.6875

因此，二进制小数部分0.1011转换为十进制为0.6875

### 八进制（0开头，ex:0345)

### 八进制转二进制

八进制数每一位都可以用三个二进制位来表示，因此将每一位上的八进制数转换成对应的三个二进制数，然后拼接起来即可。例如，将八进制数 0345 转换成二进制数，可以按照以下步骤进行：

1. 将 3 转换成二进制数 011
2. 将 4 转换成二进制数 100
3. 将 5 转换成二进制数 101

将上述三个二进制数拼接起来，得到 011100101，即为八进制数 345 对应的二进制数。

### 十六进制(0x开头，ex:0x2af)

### 十六进制转二进制

十六进制数每一位都可以用四个二进制位来表示，因此将每一位上的十六进制数转换成对应的四个二进制数，然后拼接起来即可。例如，将十六进制数 0x2AF 转换成二进制数，可以按照以下步骤进行：

1. 将 2 转换成二进制数 0010
2. 将 A 转换成二进制数 1010
3. 将 F 转换成二进制数 1111

将上述三个二进制数拼接起来，得到 001010101111，即为十六进制数 2AF 对应的二进制数。

### 编码：原码、反码、补码

数据在内存中总是以补码的方式存放，最高位为符号位

正数的原码、反码、补码都一样，就是它本身

负数的反码等于最高位不变为1，其他位取反

负数的补码等于原码的反码 + 1

补码 ---> 原码
第一种方法：

补码-1取反

第二种方法：

补码再求补

不考虑符号位
原码 + 反码 = ff <==> 反码 = ff - 原码
补码 = 反码 + 1
补码 = ff - 原码 + 1
原码 = ff - 补码 + 1 ---> ff - 补码 ---> 补码的反码
原码 = 补码的反码 + 1 ---> 对补码求补得到原码

ex：-30

原码：1001 1110
反码：1110 0001
补码：1110 0010

对补码求补得到原码：
补码的反码：  1001 1101
补码的反码+1：1001 1110

求补的简单方法：

符号位不变，从数据的低位(右边)找到第一个1，包括这个1到低位不变，其余位取反
-30
原码：1001 1110
补码：1110 0010

补码：1110 0010
原码：1001 1110

1byte = 8bit
8位中：最高位为符号位，7位是数值位
规定：-0表示-128
范围：[-2^7,2^7-1]

2byte = 16bit
16位中：最高位是符号位，15位是数值位
规定：-0表示-2^15
范围：[-2^15,2^15-1]

### linux概述

### linux常用命令

| 命令 | 功能 | 示例 |
| --- | --- | --- |
| man | 查看命令和系统函数用法 | man |
| pwd | 显示当前目录的路径 | pwd 显示当前目录的路径 |
| cd | 切换目录 | cd /usr/local 切换到/usr/local目录;cd ..进入上一级目录（父目录）;
cd -返回上一次操作目录;cd 进入用户主目录 |
| ls | 列出目录内容 | ls -l 列出当前目录下所有文件的详细信息；ls -a 查看所有的文件或文件夹 名宇以 ．打头的文件或文件夹是隐藏文件；ls -la 查看所有文件的详细信息 |
| mkdir | 创建目录 | mkdir test 在当前目录下创建名为test的目录 |
| touch | 创建空文件 | touch file.txt 在当前目录下创建名为file.txt的空文件 |
| rm | 删除文件或目录 | rm file.txt 删除名为file.txt的文件; -r 删余文件夹;-f 强制执行;-rf 强制删除文件夹 |
| cp | 复制文件或目录 | cp file.txt /home/user 将file.txt复制到/home/user目录下;-f 强制复制。如有重复文件直接覆盖，不会询问（ 默认）; -i 若有重复文件，会询问是否覆盖 ;-r 递归复制，用于目录复制 |
| mv | 移动（剪切）文件或目录还可以重命名 | mv file.txt /home/user 将file.txt移动到/home/user目录下; mv 原文件名 新文件名 |
| cat | 查看文件内容 | cat file.txt 查看名为file.txt的文件的内容;-n 带行号的方式显示文件的内容 |
| less | 分页查看文件内容 | less file.txt 分页查看名为file.txt的文件的内容 |
| head | 查看文件前几行内容 | head -n 5 file.txt 查看名为file.txt的文件的前5行内容 |
| tail | 查看文件后几行内容 | tail -n 5 file.txt 查看名为file.txt的文件的后5行内容 |
| clear | 清屏 |  |
| reset | 清屏且不会保留之前的东西 |  |

shell命令提示符
 ex:peanut@ubuntu2204:~/HQYJ$
   peanut : 用户名
   @ : 分隔符
   ubuntu : 主机名
   ～ : 用户主目录（/home/peanut）第一个/表示根目录，后面的表示分隔符
   $ : 普通用户标识符
   # : root用户的标识符

命令的基本格式
 命令名 + 空格 + 选项 + 空格 + 参数
  选项：以 - 开头，可以有多个
  一行可以有多个命令，但要用 ; 隔开
  命令行分行可以用 \     ex:mv hello.c\
                         hello.c.bak

通配符 : * —— 匹配多个任意字符; ? —— 匹配一个任意字符
* 通配符可以匹配任意长度的字符，包括零个字符。例如，假设有一个文件夹包含多个文件，其中有一个文件名为 "file1.txt"，可以使用通配符 * 来匹配所有以 "file" 开头的文件名，命令为 "ls file*"，这将列出所有以 "file" 开头的文件名。
? 通配符可以匹配任意单个字符。例如，假设有一个文件夹包含多个文件，其中有一个文件名为 "file1.txt"，可以使用通配符 ? 来匹配所有以 "file" 开头，以 ".txt" 结尾的文件名，命令为 "ls file?.txt"，这将列出所有以 "file" 开头，以 ".txt" 结尾的文件名，其中 ? 代表任意单个字符。

### vi常用命令

| 命令 | 描述 |
| --- | --- |
| i | 进入插入模式，在光标前插入文本 |
| a | 进入插入模式，在光标后插入文本 |
| A | 进入插入模式，在光标所在的行尾开始编辑 |
| o | 在当前行下方插入一个新行，并进入插入模式 |
| O | 在当前行上方插入一个新行，并进入插入模式 |
| yy | 复制整行 |
| [n]yy | 从当前光标所在行起连续n行复制 |
| dd | 删除整行 |
| [n]dd | 从当前光标所在行起连续n行剪切 |
| x | 删除光标处的字符 |
| p | 粘贴之前复制或删除的内容 |
| u | 撤销最后的操作 |
| h,j,k,l | 光标左,下，上，右移动一个字符 |
| w | 光标向后移动到下一个单词的开头 |
| b | 光标向前移动到当前单词或上一个单词的开头 |
| e | 光标向后移动到当前单词或下一个单词的末尾 |
| 0 | 跳到行的开头 |
| $ | 跳到行的末尾 |
| gg | 跳到文件的开头 |
| G | 跳到文件的末尾 |
| Ctrl + r | 重做最后一次被撤销的操作 |
| n | 搜索结果中的下一个匹配项 |
| N | 搜索结果中的上一个匹配项 |
| :w | 保存文件 |
| :q | 退出 Vim |
| :wq | 保存并退出 Vim |
| :q! | 强制退出 Vim，丢弃对文件的更改 |
| :w 文件名 | 另存为 |
| :r 文件路径 | 导入文件内容到光标位置 |
| :[N] | 移动光标到指定行 |
| :[n],[N]y | 复制n-N行 |
| :[n],[N]d | 剪切n-N行 |
| :/字符串 | 查找字符串 |
| :％s/字符串1/字符串2/gc | 全文字符串1替换成字符串2 |
| :[n],[N]s/字符串1/字符串2/gc | n-N行中将字符串1替换成字符串2 |
| :nohl | 取消高光 |

### C语言基础知识

### C语言代码的编译流程

预处理(-E;生成 .i 文件) —> 编译(-S;生成 .s 文件) 
—> 汇编(-c;生成 .o 文件) —> 链接

有一个C语言源代码文件`hello.c`，内容如下：

```
#include <stdio.h>int main() {
    printf("Hello, world!\n");
    return 0;
}
```

我们可以通过以下步骤将其编译成可执行文件：

1. 预处理：执行以下命令进行预处理
    
    ```
    gcc -E hello.c -o hello.i
    ```
    
    这会生成一个新的文件`hello.i`，其中包含了经过预处理器处理后的代码。
    
2. 编译：执行以下命令进行编译
    
    ```
    gcc -S hello.i -o hello.s
    ```
    
    这会生成一个新的文件`hello.s`，其中包含了经过编译器处理后的汇编代码。
    
3. 汇编：执行以下命令进行汇编
    
    ```
    gcc -c hello.s -o hello.o
    ```
    
    这会生成一个新的文件`hello.o`，其中包含了经过汇编器处理后的可重定位目标文件。
    
4. 链接：执行以下命令进行链接
    
    ```
    gcc hello.o -o hello
    ```
    
    这会生成一个新的可执行文件`hello`，其中包含了经过链接器处理后的最终可执行代码。
    

### 注释

- 单行注释：//
- 多行注释
    
    1./* 注释语句 */
    
    2.#if 注释语句 #else 注释语句 #endif 
    

### 标识符

标识符的命名规则

1. 标识符只能由字母、数字和下划线组成，不能包含其他字符。
2. 标识符的第一个字符必须是字母或下划线，不能是数字或其他字符。
3. 标识符的长度没有限制，但建议不要超过31个字符。
4. 标识符区分大小写，例如，变量名a和变量名A是不同的标识符。
5. 标识符不能与C语言的关键字相同，例如，if、while、for等。
6. 标识符应该具有一定的描述性，能够清晰地表达其所表示的含义，例如，变量名age可以表示年龄。
7. 标识符中不允许出现空格或其他特殊字符。

### 格式控制字符串

- %d：以十进制整数形式输出整数。
- %f：以小数形式输出浮点数。
- %c：输出单个字符。
- %s：输出字符串。
- %p：输出指针地址。
- %x或%X：以十六进制形式输出整数，%x输出小写字母，%X输出大写字母。
- %o：以八进制形式输出整数。
- %e或%E：以指数形式输出浮点数，%e输出小写字母e，%E输出大写字母E。
- %u：以十进制形式输出无符号整数。

### 转义字符

- \n：表示换行符，将光标移动到下一行开头。
- \t：表示制表符，将光标移动到下一个制表位。
- \r：表示回车符，将光标移动到本行开头。
- \b：表示退格符，将光标向左移动一个字符位置。
- \f：表示换页符，将光标移动到下一页开头。
- \\：表示反斜杠字符。
- \'：表示单引号字符。
- \"：表示双引号字符。
- \ddd：ddd表示1-3个八进制的数字
- \xdd：dd表示2个十六进制数字

### 数据类型

用一个整数型的格式化符来接收浮点型，会发生截断，截断后的结果是不确定的。

### 基本类型

- 整型（分 有符号 和 无符号）
short：2个字节
int：4个字节
long：4个字节（32位）、8个字节（64位）
longlong：8个字节
- 浮点型（全是有符号的）
float：4个字节
double：8个字节
- 字符型（分 有符号 和 无符号）
char：1个字节
- 布尔型

### 构造类型

- 数组
- 指针型
- 枚举型
- 结构体
- 共用体

### 空类型

void

### 变量

1. 不进行初始化：变量定义时不进行初始化，变量的值是不确定的，可能是任意值。例如：int a, b, c
2. 声明时进行初始化：在变量定义时进行初始化，可以指定变量的初始值。例如：int a = 10；或者 int a = 10, b = 20, c = 30;

### sizeof

1. `sizeof` 获取数据类型所占用的字节数，例如：`sizeof(int)` 返回 4，表示 int 类型变量占用 4 个字节。
2. `sizeof` 获取变量所占用的字节数，例如：`int a; sizeof(a)` 返回 4，表示变量 a 占用 4 个字节。
3. `sizeof` 获取数组所占用的字节数，例如：`int arr[5]; sizeof(arr)` 返回 20，表示数组 arr 占用 20 个字节（假设 int 类型占用 4 个字节）。
4. `sizeof` 获取指针所占用的字节数，例如：`int *p; sizeof(p)` 返回 4 或 8（取决于编译器和操作系统的位数），表示指针变量 p 占用 4 或 8 个字节。

需要注意的是，`sizeof` 的返回值是一个 `size_t` 类型的无符号整数，表示数据类型或变量所占用的字节数。

### 数据类型转换（计算机不能四舍五）

在C语言中，数据类型转换是将一个数据类型的值转换为另一个数据类型的值的过程。数据类型转换可以分为两种：隐式转换和显式转换。

隐式转换
是在表达式求值期间自动执行的，通常是将较小的数据类型转换为较大的数据类型。例如，将一个整数类型的变量赋值给一个浮点数类型的变量，会自动将整数类型转换为浮点数类型。

显式转换
是由程序员明确指定的，使用强制类型转换运算符进行。例如，将一个浮点数类型的变量强制转换为整数类型，可以使用强制类型转换运算符 (int)。

- (int)+变量名：将一个值转换为 int 类型。
- (float)+变量名：将一个值转换为 float 类型。
- (double)+变量名：将一个值转换为 double 类型。
- (char)+变量名：将一个值转换为 char 类型。
- (unsigned int)+变量名：将一个值转换为 unsigned int 类型。

以下是一些数据类型转换的示例：

隐式转换：

```
int a = 10;
float b = a; // 将整数类型转换为浮点数类型
```

显式转换：

```
float a = 3.14;
int b = (int)a; // 将浮点数类型转换为整数类型
```

需要注意的是，数据类型转换可能会导致数据精度的丢失或截断。因此，在进行数据类型转换时，需要谨慎考虑。

### 运算符和表达式

### 控制语句（if语句、for循环等）

### 函数

## 第二部分：指针和内存管理

### 1.指针和地址

### 2.动态内存分配

### 3.数组和指针

### 4.字符串和字符数组

### 5.结构体和联合体

## 第三部分：高级主题

### 1.文件操作

### 2.预处理器

### 3.多文件编程

### 4.位运算

### 5.枚举和typedef

## 第四部分：实践项目

# 数据结构

# C++

# STM32

# Linux